language: objective-c
env:
  global:
  - KIF_SCREENSHOTS=$PWD/Screens
  - secure: SnQSKj/4VU1LZOAh1gBZNhBSOkw4GKp16gAL/EGOT56b88W4+6fiBPj5MVmrCgaELqy6FGNJErroxepvdmIndqhzDsy5TIaucUSgPaiVd2MSGTHcniIDQ2LXkkm4OpStnDSkPVbCkgT3uCAg7K9/xqwq1BoowUNb6BlOFRldMVUDOE/ZmI5fYn7xQtetJPD3dPFS1ZBxA4QqJHTdGgZ8DhTl2BMZkbQqmEgPg26sZV0VCkFsIelrdlLzBmleNieAmXwZVXyqss7jiITb1CHMSXkynQXx2/8l96AA1ikYCQCTz8wjV7c3EsPLm9GJqaOMQI4gXNkjnpdE8663JiI7p6/4ymOeXrzdtHXZT/5VcEs5pGAZEA5XlcawlpYC3UbRHJm04SUkBJuDV7sPISp509sA+zNUWjgvsVXvXkH57U1rANPUDJvz2HZ2gHeMU+xb4Y7necnllsiFwaJ/BwbbhmGpdPmo277Q4yGythjx83iK/88O71xijALtBV3FMoYPQebwuxNvuDQvrm/nAazj0GSfIqTC+0vtRi4gG9FcZnqaCMCwGiVLhgKooOhGffCNUAvaPYp55kqYFijEuTKKlM4GnEgfsAflXVSBasQPZNiFkbdp6LMn0QUZQNqDZfrUAVUnRc5fQXwIBs4uZcm+ITapvgBk233mU5GEndXH6ck=
  - secure: VCTz+HCb5paQhQbJKTVWFF6PwKBlLesLCyRH/azxx+EQr5nDRFjRnS6MhSy4xc4FhIxoJt/irOBdWdKcslEr6cDMlWfnyLp5iLMC705UGslB8lHqW6mqW+pUTGk6T9Pk3NPFrzEp904Iy0KSSMmQnxy38jG6h/Uur9/BRYe/CpFRrFjvKCzKfp6wlSk8y0OhnoEl4L0d0qZ3UoM9GPCN9Q3d5Qjp5RVGRBjC/hPe51kenuJKBf/GX+gINx5m/TmwgZxvOljF7uPPAg3PL0DwSfN9Fn72ZME81EK+9NgB0BYbStarY0rSUj+sMmeV9XbrsN1ge/ysUPFJjDx72TBB07+Wc1ZKoj2uh57mA21D9Dm68gVtXhNfG/XGHhqZcuw/7HvAXNS+Po3/3WA5y9JgdG7Dl/uIT0YHKmSYb+KFVqLawGY9VKd577oOCjy4XBf49WGeZh/DxFc0KqcQF0Go+OZq2zeFfCHV2bwCT2NgXHwoHkTA1CKD+2duMYfsrc3OSXwlaFn6M/Fbwu306I1ieFavERaDeardXsh3yjBbtFpKgWxLmmAAjYJ7sBbbxZbGvCTrgGoyrVzDqIOdoRzMv9lq0iDIiZIcK94O+CJnLAPG2t4XLSEzYuJdOvUem8KoJgzekkU65nzt//gVqxeti9xE0UvMUDQKzQUtinVXbyw=
  - secure: gdMjJ+BP+uzM19JG2mL1CJ2jnGTQZIgBoCE5bWIkqgiSTp0EfyB+6zqtrtxM1NbXiRVZjQq7kZJ7mKbexV80ksol+D6ulB8FEQTrswjV9Gq9eTGyCBiHIcFo3fMbphpybNrIstn9gWiY5a0RdzfAt9sAZpy7qSm2HIyALnc5VHWElUxJ79Bi5K77ZKXSkACEConD5OKF9ieO3b4CgIqQbSwHM392mwXL2hC7X8re1794A7YN0Y+3nK+NyuMFopNM7DgM6Pa6zJrfqI8objNw01QOaNclcihhKaeKaevEc1KZ+OD58gEXvgl4STpl8THtPtZYUN/Nff6guWDZQRS2KjgeTP8JTWsCErdjroth5K5uh3iwdv3oPAqVrLhxXSjHaUsSmNiISwYk9R7i2Emb8YqLMSE+96XQ0iuqfNSYHvphgai4oXXsMr+Jo2qxSpTueB0cFTNI8LYHzpadH/aJvIUvoUbR5WM00HXq38NF3zaoc1hvQtUuMP8YY8hb5iB2T5s41DhNbaQpL626N2TiClNiQPVRT7YOyoEg+NsxXo6GIVxVdIoNL/dHCS6qDDke55EjOM59cgEZ04iLcbHa9hUxHYKTGl3wxRkOxfsrLWCcAs3QE+MsoXrXCPKQ+ETRbXU7O0QPYFVx66gtes8RArEErH0vMYfdn7EPCFY9pGw=
before_install:
- brew update 1>/dev/null
- brew install doxygen nasm yasm optipng imagemagick coreutils intltool ninja antlr
- brew upgrade cmake
- wget --no-check-certificate https://raw.github.com/yuvi/gas-preprocessor/master/gas-preprocessor.pl
- chmod +x gas-preprocessor.pl
- sudo mv gas-preprocessor.pl /usr/local/bin
- sudo ln -s /usr/local/bin/glibtoolize /usr/local/bin/libtoolize
- sudo ln -s /usr/bin/strings /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/strings
- git submodule update --init --recursive
- bundle install
install:
- "./prepare.py -d x86_64 -G Ninja"
- make -j4 -s 1>/dev/null
script:
- xctool -project linphone.xcodeproj -scheme linphone -sdk iphonesimulator -destination
  name='iPhone 6' build 1>/dev/null
after_success:
- xctool -project linphone.xcodeproj -scheme linphone -sdk iphonesimulator -destination
  name='iPhone 6'
notifications:
  flowdock:
    secure: 5GSBa/4AwUApi6dYjIyDiOsdQF4i+ZtKvSKzVjHqWNZMqqxrhjH8Ft/WhUpk+0Q304+ATMYSo2pTsYcgLMfIeqvi/B3mF3EGivb+g2TrXNXHPqjfEcAHRfy2DX00ssftNKZ3a7ynIDb8Oq7CREEV/ls8GBHK8EyBEtjhPNgr8qjexKCS7ATDp2OxDKw8ZnabMlWgO7kSbnEVJ6J3wyHyBGxS7IUJBRexxS2cIpXQUezH1rY0YrpOIzz8yRxYUCsguTxpAuWP7Q//jFZawK2RX88bbTEFDptzTiycyotktW9O/lRxUvKz/2dZmFTBcuw20db7qohEoOwb1yxj9AKjR7ipT8YtTsdO5fr72A8SPbgYHwH7ydT6Telpv+G062VZrYQ8JTxLjXwz8y4/+5jFj7B+ad7wsOa9yhg0vfZokLNKmsQP9zCgrOw8bLuLOJ+PuEOmF1dHyAmiapjWzLbn8Hj+VxqT8UNycvnuCApkZ3Sl/Ij1lID/EE1Ltyi6t/8VSX8XoRvPN5Wpt0jV5qO8kJLQuOZxQuu2N99+SF/nAQcMsdaf6EP9G6CAaUQ1Gv+HFv9L6bglJ7mYrMhvVoKS9tKGNzhFxarW5jHCCGmA9l2Akqdw1owHz+R6JELC8vJzv7fFyqgh10IWuTtRaxhq4qhZD2S/mAA3Pl6IqgCBqPw=
